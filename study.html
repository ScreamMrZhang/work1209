<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>事件绑定</title>
    <style>
        *{
            margin: 0;
            padding: 0;
        }
    </style>
</head>
<body>
<a href="www.baidu.com">百度</a>
<div style="width: 100px;height: 100px;background: palegreen"></div>
</body>
<script>
    var div = document.querySelector("div");
    // div.innerHTML="xxx";
    // div.onclick=function fn() {
    //     console.log("我被点击了");
    //     // 事件解绑
    //     div.onclick=null;
    // }
    // console.dir(div);


    div.onclick=function f1(e) {
        // e.target e.srcElement 表示事件触发的源头/目标 事件源
        // e.bubbles 布尔值 表示的是事件类型是否具有冒泡的特征
        // e.cancelBubble 布尔值 表示当前时间是否阻止冒泡/取消冒泡
        // e.x e.y e.layerX e.layerY e.clientX e.clientY e.pageX e.pageY 数字 表示事件发生的位置相对于不动参考系的坐标
        // e.type 字符串 （去掉on的字符串） 表示当前触发的事件类型
        console.log(e);
        if (e.altKey){
            console.log("我被按住alt键点击了",[e.x,e.y]);
        }else{
            console.log("我被点击了",[e.x,e.y]);
        }
    }

    div.ondblclick = function dbClickHandler(e) {
        console.log("事件源",e.target,e.srcElement);
        console.log("事件类型",e.type);
        console.log("是否按住ctrl",e.ctrlKey);
        console.log("是否按住alt",e.altKey);
        console.log("是否冒泡",e.bubbles);
        console.log("是否取消冒泡",e.cancelBubble);
        console.log("事件发生坐标",[e.x,e.y]);
    }

    //事件的默认行为
    /*
    1、什么是事件的默认行为
    比如：在网页空白处右键鼠标 默认会显示默认菜单。 点击a标签会自动跳转到href的网页。
    点击submit会刷新页面。点击reset会清空表单
     */
    //点击a标签不跳转，而是在控制台输出a标签跳转的链接值
    var a = document.querySelector("a");
    a.onclick=function clickHandler(e) {
        e.preventDefault();
        var url = a.getAttribute("href");
        console.log(url);
    }
    window.oncontextmenu=function contextmenuHandler(e) {
        var menu = document.querySelector(".right-key-menu");
        if (!menu){
            menu = document.createElement("div");
            menu.setAttribute("class","right-key-menu");
            menu.innerHTML="我是右键菜单";
            menu.onclick=function myClick(a){
                console.log("右键菜单被点击了");
                //处理关闭菜单
                if (!a.target === menu) {
                    menu.remove();
                }

            }
        }
        console.log("右键菜单");
        menu.style="background:red;z-index:999;position:absolute;left:"+e.x+"px;top:"+e.y+"px;"
        document.body.appendChild(menu);
        e.preventDefault();
    }
</script>
</html>